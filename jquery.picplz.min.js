(function(f,c){var d=true,j=false,e=null,h="http://picplz.com/api/v2/",g={dataType:"jsonp",url:h,error:function(l,n,m){if(console&&console.log){console.log(m,n,l);}}},b={pic_page_size:24},i=function(l,m){if(l.result=="ok"){m(l.value);return d;}g.error({},"The ajax failed",l.text);return false;},k=function(l){return function(m){i(m,l);};},a={init:function(l,m){this.oauth_token=(l)?l:e;if(typeof(m)!=="undefined"){g.error=m;}},setPicFormats:function(l){l=(f.isArray(l))?l.join(","):l;b=f.extend({},b,{pic_formats:l});},_preFetch:function(s,l,q,p,r,t,o,m){var n={};if(l){n[p]=(f.isArray(r))?r.join(","):r;}else{n[p]=r;}if(t){n.include_detail=1;}if(o){n.include_pics=1;}if(m){n.last_pic_id=m;}this._fetch(s,q,n);return d;},interesting:function(o,n){var l={url:h+"feed.json",data:f.extend({},b,{type:"interesting",include_geo:1}),success:k(o)},m=f.extend({},g,l);if(n){m.data.last_pic_id=n;}f.ajax(m);},network:function(o,n){var l={url:h+"feed.json",data:f.extend({},b,{type:"network",include_geo:1,oauth_token:this.oauth_token}),success:k(o)},m=f.extend({},g,l);if(n){m.data.last_pic_id=n;}f.ajax(m);},_fetch:function(p,l,o){var m={url:h+l+".json",data:f.extend({},b,o),success:k(p)},n=f.extend({},g,m);f.ajax(n);},userById:function(p,o,m,l,n){this._preFetch(p,false,"user","id",o,m,l,n);return d;},userByUsername:function(p,o,m,l,n){this._preFetch(p,false,"user","username",o,m,l,n);return d;},usersByIds:function(n,l,m){this._preFetch(n,true,"user","ids",l,false,false,m);return d;},usersByUsernames:function(n,l,m){this._preFetch(n,true,"user","usernames",l,false,false,m);return d;},placeById:function(p,l,n,m,o){this._preFetch(p,false,"place","id",l,n,m,o);return d;},placeBySlug:function(p,l,n,m,o){this._preFetch(p,false,"place","slug",l,n,m,o);return d;},placesByIds:function(n,l,m){this._preFetch(n,false,"place","ids",l,false,false,m);return d;},placesBySlugs:function(n,m,l){this._preFetch(n,false,"place","slugs",m,false,false,l);return d;},cityById:function(p,o,m,l,n){this._preFetch(p,false,"city","id",o,m,l,n);return d;},cityBySlug:function(p,l,n,m,o){this._preFetch(p,false,"city","slug",l,n,m,o);return d;},citiesByIds:function(n,m,l){this._preFetch(n,false,"city","ids",m,false,false,l);return d;},citiesBySlugs:function(n,m,l){this._preFetch(n,false,"city","slugs",m,false,false,l);return d;}};jQuery.picplz=a;return d;})(jQuery,window);